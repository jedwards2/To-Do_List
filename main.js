(()=>{"use strict";class t{constructor(t,e,n,i){this.title=t,this.description=e,this.dueDate=n,this.priority=i}switchPriority(){this.priority=!this.priority}}class e{constructor(t){this.name=t,this.todo_list=[]}add(t){console.log(t),this.todo_list.push(t)}delete(t){this.todo_list.splice(t,1)}}let n=[],i=document.getElementById("new_list_button"),d=document.getElementById("close_list_form_button"),l=document.getElementById("submit_list_button");function o(){document.getElementById("new_list_form").style.display="none"}function r(){let t=document.getElementById("lists_div");m(t),n.forEach(((e,n)=>{let i=document.createElement("div");i.setAttribute("id","newListPair");let d=document.createElement("button");d.textContent="X",d.myParam=n,d.addEventListener("click",c),d.setAttribute("id","deleteButton");let l=document.createElement("button");l.textContent=e.name,l.setAttribute("id","sidebar_button"),l.myParam=n,l.addEventListener("click",a),i.appendChild(l),i.appendChild(d),t.appendChild(i)}))}function c(t){let e=t.target.myParam;n.splice(e,1),r()}function a(t){let e=document.getElementById("todo_list");m(e);let i=t.target.myParam,d=n[i],l=document.createElement("h1");l.textContent=d.name,e.appendChild(l);let o=document.createElement("hr");e.appendChild(o),function(t){let e=document.getElementById("todo_list"),n=document.createElement("div");n.setAttribute("id","newItemDiv");let i=document.createElement("h3");i.textContent="Add Item";let d=document.createElement("input");d.type="text",d.placeholder="Title",d.id="title";let l=document.createElement("input");l.type="text",l.placeholder="Description",l.id="description";let o=document.createElement("input");o.type="date",o.id="date";let r=document.createElement("label");r.textContent="Priority?",r.for="priority";let c=document.createElement("input");c.type="checkbox",c.name="priority",c.id="priority";let a=document.createElement("button");a.setAttribute("id","newItemButton"),a.textContent="Submit",a.type="button",a.myParam=t.name,a.addEventListener("click",u),n.appendChild(i),n.appendChild(d),n.appendChild(l),n.appendChild(o),n.appendChild(r),n.appendChild(c),n.appendChild(a),e.appendChild(n)}(d),p(d.name)}function m(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function u(e){let i=document.getElementById("title").value,d=document.getElementById("description").value,l=document.getElementById("date").value,o=document.getElementById("priority").checked,r=new t(i,d,l,o),c=e.target.myParam;for(let t in n)c==n[t].name&&n[t].add(r);s(),p(c)}function s(){let t=document.getElementById("todo_list"),e=t.children;for(let n=e.length-1;n>2;n--)t.removeChild(e[n])}function p(t){let e;for(let i in n)t==n[i].name&&(e=n[i]);for(let t in e.todo_list){let n=e.todo_list[t],i=document.getElementById("todo_list"),d=document.createElement("div");d.setAttribute("id","itemDiv");let l=document.createElement("h3");l.textContent=n.title;let o=document.createElement("p");o.textContent=n.description;let r=document.createElement("p");r.textContent=n.dueDate;let c=document.createElement("button");c.type="button",c.textContent="O",c.listObj=e,c.myParam=e.todo_list[t],e.todo_list[t].priority?c.style["background-color"]="red":c.style["background-color"]="gray",c.addEventListener("click",h);let a=document.createElement("button");a.type="button",a.textContent="X",a.listObj=e,a.index=t,a.addEventListener("click",y),d.appendChild(l),d.appendChild(o),d.appendChild(r),d.appendChild(c),d.appendChild(a),i.appendChild(d)}}function y(t){t.currentTarget.listObj.delete(t.currentTarget.index),s(),p(t.currentTarget.listObj.name)}function h(t){t.target.myParam.switchPriority(),t.target.myParam.priority?t.target.style["background-color"]="red":t.target.style["background-color"]="gray",t.target.listObj.todo_list.sort(E),s(),p(t.currentTarget.listObj.name)}function E(t,e){return t.priority?-1:t.priority?void 0:1}i.addEventListener("click",(function(){document.getElementById("new_list_form").style.display="flex"})),d.addEventListener("click",o),l.addEventListener("click",(function(){let t=document.getElementById("new_list_form");if(t.name.value.length>0){let i=new e(t.name.value);n.push(i)}o(),r()}))})();